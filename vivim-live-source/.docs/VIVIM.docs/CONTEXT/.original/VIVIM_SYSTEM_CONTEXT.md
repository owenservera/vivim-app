# VIVIM System Context Documentation

> **Generated:** Fri Feb 13 2026  
> **Sources:** network/prisma/schema.prisma, server/src/context/types.ts, pwa/src/lib/*

---

## System Architecture

### Network App
- **Purpose:** P2P and Federation Layer
- **Technologies:** libp2p, Yjs CRDT, Kademlia DHT, WebRTC

### Server App
- **Purpose:** Backend API and Context Engine
- **Technologies:** Node.js, Prisma, PostgreSQL, Z.ai embeddings

### Pwa App
- **Purpose:** Frontend Client
- **Technologies:** React, IndexedDB, Web Crypto API


## Context Pipeline

| Layer | Name | Description |
|-------|------|-------------|
| L0 | VIVIM Identity | Who VIVIM is |
| L1 | User Identity | Facts about the user |
| L2 | Preferences | How to respond |
| L3 | Topic Context | Current topic |
| L4 | Entity Context | People/projects |
| L5 | Conversation | History |
| L6 | JIT Knowledge | Retrieved ACUs |

## Network Database

**Models:** NetworkNode, NodeConnection, ContentRecord, ContentProvider, RoutingEntry, StoredContent, PubSubTopic, TopicSubscription, CRDTDocument, CRDTPeer, FederationInstance, FederationBridge, NetworkMessage, NetworkMetric, NetworkUserReference, NetworkCircleReference

**Enums:** NodeType(BOOTSTRAP, RELAY, INDEXER, STORAGE, EDGE, CLIENT, SELF_HOSTED), NodeRole(ROUTING, RELAYING, INDEXING, STORING, SIGNALLING, BOOTSTRAPPING), NodeStatus(ACTIVE, DEGRADED, OFFLINE, BANNED), ConnectionDirection(OUTBOUND, INBOUND, BIDIRECTIONAL), ConnectionStatus(PENDING, CONNECTING, CONNECTED, DISCONNECTED, FAILED), TopicType(GENERAL, CIRCLE, USER, SYSTEM, DISCOVERY), SubscriptionStatus(ACTIVE, PAUSED, UNSUBSCRIBED), SyncStatus(SYNCED, SYNCING, CONFLICT, OFFLINE, ERROR), FederationStatus(PENDING, ACTIVE, SUSPENDED, BLOCKED, OFFLINE), BridgeDirection(SEND_ONLY, RECEIVE_ONLY, BIDIRECTIONAL), BridgeStatus(ACTIVE, PAUSED, ERROR, DISCONNECTED), MessageType(DISCOVERY, ROUTING, CONTENT_REQUEST, CONTENT_RESPONSE, SYNC_REQUEST, SYNC_RESPONSE, PUBSUB_PUBLISH, PUBSUB_SUBSCRIBE, FEDERATION, PING, PONG, CONTROL), MessageStatus(PENDING, SENT, DELIVERED, FAILED, RETRYING), MetricType(PEER_COUNT, CONNECTION_COUNT, BANDWIDTH_IN, BANDWIDTH_OUT, LATENCY_AVG, LATENCY_P95, DHT_LOOKUP_TIME, MESSAGE_QUEUE_SIZE, SYNC_TIME, CACHE_HIT_RATE, ERROR_RATE)

---

*Generated by VIVIM Context Generator*
